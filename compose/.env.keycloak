# ---- Provider / Issuer ----
OAUTH2_PROXY_PROVIDER=keycloak
OAUTH2_PROXY_OIDC_ISSUER_URL=https://www.greenfesco.com/keycloak/realms/solar

# ---- OAuth Client ----
OAUTH2_PROXY_CLIENT_ID=mlflow
OAUTH2_PROXY_CLIENT_SECRET=mlflow-secret-key-2024
OAUTH2_PROXY_REDIRECT_URL=https://www.greenfesco.com/mlflow/oauth2/callback

# ---- Reverse proxy / Path ----
OAUTH2_PROXY_REVERSE_PROXY=true
OAUTH2_PROXY_PROXY_PREFIX=/mlflow

# ---- Upstream (보호할 백엔드) ----
#  MLflow 컨테이너가 5000이라면 내부로 http로 붙입니다.
OAUTH2_PROXY_UPSTREAMS=http://mlflow:5000

# ---- Cookie / Session ----
# !!! 아래 값은 반드시 교체하세요 !!!
# openssl rand -base64 32  로 생성(예시 아래)
OAUTH2_PROXY_COOKIE_SECRET=REPLACE_WITH_BASE64_32BYTE_SECRET
OAUTH2_PROXY_COOKIE_SECURE=true
OAUTH2_PROXY_COOKIE_SAMESITE=lax
OAUTH2_PROXY_COOKIE_EXPIRE=168h
OAUTH2_PROXY_COOKIE_REFRESH=24h
OAUTH2_PROXY_COOKIE_DOMAINS=www.greenfesco.com
OAUTH2_PROXY_WHITELIST_DOMAINS=www.greenfesco.com

# ---- Headers / Token 전달 ----
OAUTH2_PROXY_SET_AUTHORIZATION_HEADER=true
OAUTH2_PROXY_PASS_USER_HEADERS=true
OAUTH2_PROXY_PASS_ACCESS_TOKEN=true
OAUTH2_PROXY_SET_XAUTHREQUEST=true
OAUTH2_PROXY_SKIP_PROVIDER_BUTTON=true

# ---- Scope / Email domain ----
OAUTH2_PROXY_SCOPE="openid email profile"
OAUTH2_PROXY_EMAIL_DOMAINS=*